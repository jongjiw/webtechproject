<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>index</title>
    <link rel="stylesheet" href="home.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.6.2/pixi.min.js"></script>
</head>
<body>
    <div id="follow">
        
    </div>

    <div class="ctn-text">
        <h1 class="efet-text">
            Khing
        </h1>
        
    </div>
    
    <script type="text/javascript">
        //get SIZE WINDOW
        var wScreen = window.innerWidth,
        hScreen = window.innerHeight;
        
        
        
        
        //follow the Cursor
        $(document).on('mousemove', function(e){
            $('#follow').css({
                left:  e.pageX -62,
                top:   e.pageY - 62
            });
        });
        
        
        
        //create de PIXI APP
        var app = new PIXI.Application(wScreen, hScreen, {
            backgroundColor : 0x000000,
            antialias: true,
            autoresize: true
        });
        document.body.appendChild(app.view);
        app.stage.interactive = true;
        
        
        
        
        
        
        //create BG
        var bg = PIXI.Sprite.fromImage('https://raw.githubusercontent.com/jongjiw/webtechproject/master/1.jpg')
        bg.anchor.set(0.5);
        bg.alpha = 0.6;
        bg.x = app.screen.width / 2;
        bg.y = app.screen.height / 2;
        bg.width = app.screen.width;
        bg.height = app.screen.height;
        app.stage.addChild(bg);
        
        
        
        
        
        
        //create BG2 / ON MASK
        var bg2 = PIXI.Sprite.fromImage('https://raw.githubusercontent.com/Efetivos/Tips/0d9e125595bdf04dcfa239357bb608ccabe0f309/ParallaxImgs/interactive-bg.jpg')
        bg2.anchor.set(0.5);
        bg2.x = app.screen.width / 2;
        bg2.y = app.screen.height / 2;
        bg2.width = app.screen.width;
        bg2.height = app.screen.height;
        app.stage.addChild(bg2);
        
        
        
        
        
        
        
        
        
        //create CIRC
        var circ = new PIXI.Graphics();
        circ.lineStyle(0);
        circ.beginFill(0xFFFF0B, 0.5);
        circ.drawCircle(25, 25,300); 
        circ.endFill();
        app.stage.addChild(circ); 
        
        //maskBG2
        bg2.mask = circ;
        
        
        
        //create displace
        var displacementSprite = PIXI.Sprite.fromImage('http://pixijs.io/examples/required/assets/displace.png');
        displacementSprite.anchor.set(0.5);
        displacementSprite.width = 600;
        displacementSprite.height = 600;
        
        
        
        //create Filter
        var displacementFilter = new PIXI.filters.DisplacementFilter(displacementSprite);
        displacementFilter.scale.x = 580;
        displacementFilter.scale.y = 580;
        displacementSprite.anchor.set(0.5);
        
        app.stage.addChild(displacementSprite);
        bg2.filters = [displacementFilter];
        
        
        
        
        
        
        //create INTERATIVY
        app.stage
        .on('mousemove', onPointerMove)
        .on('touchmove', onPointerMove);
        
        function onPointerMove(eventData)
        {
            
            circ.position.set(eventData.data.global.x - 20, eventData.data.global.y - 25);
            displacementSprite.position.set(eventData.data.global.x - 10, eventData.data.global.y);
            
        }
        
        
        let tl = new TimelineMax({paused:true})
        .to(displacementFilter.scale, 4,{x:0, ease: Power3.easeInOut})
        .to(displacementFilter.scale, 4,{y:0, ease: Power3.easeInOut},0)
        .to(circ.scale, 3,{y:5, x:5, ease: Power3.easeInOut},0)
        .reverse();
        
        
        $('h1').click(function(){
            
            tl.reversed(!tl.reversed());
        })
        
    </script>
    
</body>
</html>